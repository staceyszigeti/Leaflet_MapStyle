<!DOCTYPE html>
<html>
<head>
    
    <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100vw;
        }
    </style>
    
	<title>Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>

	<!--leaflet-velocity-->
	<link rel="stylesheet" href="leaflet-velocity.css" />
	<script src="leaflet-velocity.js"></script>

</head>
<body>

<div id="map" class="map"></div>
<script>

function initDemoMap(){

		black  = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
		maxZoom: 18,
		attribution: 'Powered by &copy; <a href="http://fastrrr.com/", class="your_class">Fastrrr</a>',
		});

		osm  = L.tileLayer('https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png', {
		maxZoom: 18,
		attribution: 'Powered by &copy; <a href="http://fastrrr.com/", class="your_class">Fastrrr</a>',
		});

	var overlays = L.layerGroup([osm]);

    var greenIcon = new L.Icon({
        iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    var redIcon = new L.Icon({
        iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    var _1 = L.marker([46.913, 17.896817]).bindPopup('1 - 3,2m'),
        _2    = L.marker([46.9022,	17.90505]).bindPopup('2 - 3,4m'),
        _3    = L.marker([46.893517,	17.898333]).bindPopup('3 - 3,3m'),
        _4    = L.marker([46.88755,	17.88975]).bindPopup('4 - 3m'),
        _5    = L.marker([46.8877,	17.885933]).bindPopup('5 - 2,6m'),
        _6    = L.marker([46.88335,	17.89255]).bindPopup('6 - 3m'),
        _7    = L.marker([46.8805,	17.896117]).bindPopup('7 - 3m');
        _8    = L.marker([46.866517,	17.891317]).bindPopup('8 - 3m'),
        _9    = L.marker([46.89715,	17.8981]).bindPopup('9 - 3,8m'),
        _10    = L.marker([46.88585,	17.897267], {icon: redIcon}).bindPopup('10 -  Első kardinális');
        _11    = L.marker([46.887783,	17.882533]).bindPopup('11 - 3,6m'),
        _12    = L.marker([46.88895,	17.9009]).bindPopup('12 - 3,2m'),
        _13    = L.marker([46.889417,	17.902067]).bindPopup('13 - 3,2m'),
        _14    = L.marker([46.889183,	17.903183]).bindPopup('14 - 2,9m'),
        _15    = L.marker([46.889183,	17.903183]).bindPopup('15 - 2,9m'),
        _16    = L.marker([46.891867,	17.904617]).bindPopup('16 - 2,9m'),
        _17    = L.marker([46.894767,	17.907583]).bindPopup('17 - 3m'),
        _18    = L.marker([46.894667,	17.90855]).bindPopup('18 - 2,7m'),
        _19    = L.marker([46.895583,	17.910117]).bindPopup('19 - 3m'),
        _20    = L.marker([46.89775,	17.911917]).bindPopup('20 - 2,7m'),
        _21    = L.marker([46.89775,	17.911917]).bindPopup('21 - 2,7m'),
        _22    = L.marker([46.900933,	17.913517]).bindPopup('22 - 2,4m'),
        _23    = L.marker([46.904067,	17.9132], {icon: redIcon}).bindPopup('23 -  2,7 első É kardinális bójánk'),
        _24    = L.marker([46.897433,	17.902683]).bindPopup('24 - 3,2m'),
        _25    = L.marker([46.905483,	17.899333]).bindPopup('25 - 3,1m');

        var bouys = L.layerGroup([_1, _2, _3, _4, _5, _6, _7, _8, _10, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25]);

        var polylinePoints1 = [
            [46.913, 17.896817],
            [46.905483,	17.899333],
            [46.897433,	17.902683],
            [46.893517,	17.898333],
        ];        

        var polylinePoints2 = [
            [46.887811, 17.891336],
            [46.88755,	17.88975],
            [46.8877,	17.885933],
        ];      

        var polylinePoints3 = [
            [46.904067,	17.9132],
            [46.89775,	17.911917],
            [46.895583,	17.910117],

            [46.894667,	17.90855],
            [46.894767,	17.907583],
            [46.891867,	17.904617],

            [46.889183,	17.903183],
            [46.889417,	17.902067],
            [46.88895,	17.9009],

            [46.88585,	17.897267],
            [46.880015, 17.898392],
            [46.866517,	17.891317],
        ];    
      
        var polyline1 = L.polyline(polylinePoints1, {
            color: 'red',
            weight: 3,
            });
        var polyline2 = L.polyline(polylinePoints2, {
            color: 'red',
            weight: 3,
            }); 
        var polyline3 = L.polyline(polylinePoints3, {
            color: 'red',
            weight: 3,
            }); 

    navigator.geolocation.getCurrentPosition(function(location) {
    var latlng = new L.LatLng(location.coords.latitude, location.coords.longitude);

        var map = L.map('map', {
            center: [46.893058, 17.888867],
            zoom: 14,
            layers: [black, osm, bouys, polyline1, polyline2, polyline3],
        });

        var marker = L.marker(latlng, {icon: greenIcon}).addTo(map);
    });
}

var mapStuff = initDemoMap();

</script>

</body>
</html>
